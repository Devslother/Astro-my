---
import Button from '../Button/Button';
import Grid from '../Grid/Grid.astro';
import { Icon, type IconType } from '../icon/Icon';
import styles from './Footer.module.css'
import clsx from 'clsx';

interface ILink {
  name: string;
  url: string;
  external: boolean;
}

interface IList {
  title: string;
  link: ILink[];
}

interface ISocials {
  name: string;
  icon: IconType; 
  href: string;
}

const list: IList[]  = [
	{ 
    title: 'Products',
    link: [
      { name: "Tetrate Istio Subscription – Commercial Istio Support", 
        url: "https://tetrate.io/products/tetrate-istio-subscription/", 
        external: false },
      { name: "Tetrate Istio Distro", url: "#", external: false },
      { name: "Tetrate Enterprise Gateway for Envoy", url: "#", external: false },
      { name: "Tetrate Service Express", url: "#", external: false },
      { name: "Tetrate Service Bridge", url: "#", external: false },
    ], 
  },
  { 
    title: 'Solutions',
    link: [
      { name: "Financial Services", url: "#", external: false },
      { name: "FIPS", url: "#", external: false },
      { name: "Government", url: "#", external: false },
      { name: "Kubernetes", url: "#", external: false },
      { name: "Kubernetes Ingress", url: "#", external: false },
      { name: "Zero Trust", url: "#", external: false },
    ], 
  },
    { 
    title: 'Learn',
    link: [
      { name: "Blog", url: "#", external: false },
      { name: "Resources for Kubernetes Ingress and Enterprise Istio Support", url: "#", external: false },
      { name: "Learning Center", url: "#", external: false },
      { name: "Tetrate Academy", url: "#", external: false },
      { name: "Documentation", url: "#", external: false },
    ], 
  },
    { 
    title: 'Events',
    link: [
      { name: "What’s New in Envoy Gateway 1.1", url: "#", external: false },
      { name: "Best Practices For Platform Owners and App Developers", url: "#", external: false },
    ], 
  },
    { 
    title: 'Company',
    link: [
      { name: "About", url: "#", external: false },
      { name: "Leadership", url: "#", external: false },
      { name: "Investors", url: "#", external: false },
      { name: "Partners", url: "#", external: false },
      { name: "Newsroom", url: "#", external: false },
      { name: "Careers", url: "#", external: false },
      { name: "Get Support", url: "#", external: false },
      { name: "Contact Us", url: "#", external: false },
      { name: "Legal", url: "#", external: false },
      { name: "Sitemap", url: "#", external: false },
    ], 
  },
]

const socials: ISocials[] = [
  { name: "X", icon: "x", href: "https://x.com/tetrateio" },
  { name: "YouTube", icon: "youtube", 
    href: "https://www.youtube.com/channel/UCtV2o3OvEH6U3DQ0-_7chNw" },
  { name: "LinkedIn", icon: "linkedin", 
    href: "https://www.linkedin.com/company/tetrate/about/" },
  { name: "GitHub", icon: "github", href: "https://github.com/tetratelabs" },
  { name: "Slack", icon: "slack", 
    href: "https://tetrate-community.slack.com/join/shared_invite/zt-30pdbaw86-w~ny6j4g5s9nR5mA5dVn0Q#/shared-invite/email" },
];
---

<div class={styles.footer}>
  <Grid>
    <div class={styles.container}>
      <div class={styles.list}>
        {list.map((item) => (
          <div class={styles.column}>
            <h3 class={clsx(
              'text__body--14-semibold-uppercase',
              'text__body--14-semibold-uppercase-lg',
              'text__body--14-semibold-uppercase-md',
              styles.heading
            )}>
              {item.title}
            </h3>
            <ul class={styles.links}>
              {item.link.map((link) => (
                <li class={styles.linkItem}>
                  <a
                    href={link.url}
                    target={link.external ? "_blank" : "_self"}
                    rel="noopener noreferrer"
                    class="text__body--14"
                    data-footer--text
                  >
                    {link.name}
                  </a>
                </li>
              ))}
            </ul>
          </div>
        ))}
      </div>
    
      <div class={styles.info}>
        <a href="/" class={styles.logo}>
          <img src="/tetrate-logo.svg" alt="Tetrate Logo" loading="lazy" />
        </a>
        <div class={styles.social}>
          <span class={clsx(
            'text__body--14',
            'text__body--14-lg',
            'text__body--14-md',
            styles.h3
          )}>
            Follow us
          </span>
          <div class={styles.social__icons}>
            {socials.map((item) => (
              <Button variant="secondary" size="md" href={item.href} className={styles.btn}>
                <Icon name={item.icon} width={18} height={18} />
                <span class={clsx(
                  'text__body--14-medium',
                  'text__body--14-medium-lg',
                  'text__body--14-medium-md',
                  styles.socialText
                )}>
                  {item.name}
                </span>
              </Button>
            ))}
          </div>
        </div>
      </div>
    </div>
  </Grid>

  <div class={clsx(
    'text__body--14',
    'text__body--14-lg',
    'text__body--14-md',
    styles.legal
  )}>
    <div class={styles.copyright__container}>
      <p>Copyright © Tetrate 2025. All rights reserved.</p>
        <div class={styles.ppmint}>Designed by
          <a href="https://peppermint.id/">
            <img src="/footer/peppermint.svg" alt="Logo Peppermint">
          </a>
        </div>
    </div>
    <div class={styles.links__container}>
      <a href="https://tetrate.io/privacy" class={styles.legal__link}>
        Privacy Policy
      </a>
      <a href="https://tetrate.io/legal/service-terms-and-conditions-eula/" class={styles.legal__link}>
        Terms & Conditions
      </a>
    </div>
  </div>
</div>