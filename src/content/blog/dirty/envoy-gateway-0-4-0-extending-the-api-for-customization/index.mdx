---
title: "Envoy Gateway 0.4.0: Extending the API for Customization"
description: "Tetrate provides trusted connectivity and control for AI. Empower developers while safeguarding the business. Built atop the proven Envoy proxy & Envoy AI Gateway."
author: "Tetrate Team"
categories: ["blog"]
excerpt: "Tetrate provides trusted connectivity and control for AI. Empower developers while safeguarding the business. Built atop the proven Envoy proxy & Envoy AI Gateway."
---

[Envoy Gateway](https://github.com/envoyproxy/gateway), the open-source API Gateway based on Envoy Proxy, has just [released version 0.4.0.](https://gateway.envoyproxy.io/v0.4/contributions/releasing/) This release is centered around customization, with the goal of enabling more use cases for end-users. In this blog post, we will discuss the new customizations available in this release and their significance for users.

## [](#customizing-envoy-proxy-infrastructure)Customizing Envoy Proxy Infrastructure

One of the main customizations in this release is the ability to configure the exact type of EnvoyProxy (CRD) deployment. You can define the number of replicas, images, and resource limits that [EnvoyProxy](https://gateway.envoyproxy.io/v0.4/api/config_types/) deploys. You can also add annotations to EnvoyProxy deployments and services. This makes different use cases possible, such as:

*   Linking Envoy Gateway to external load balancers like AWS, NLB, ELB, and GCP.
*   Injecting a sidecar alongside EnvoyProxy is very useful for managing the North-South traffic in the Envoy Gateway at the ingress layer and for managing the East-West traffic and enabling mutual TLS (mTLS) in the service mesh layer with the Envoy sidecar. This custom feature eliminates the need for users to create their own certificates, as it is based on Istio certificate management.

Refer to the [Envoy Gateway documentation](https://gateway.envoyproxy.io/v0.4/user/customize-envoyproxy) for more customized features on Envoy Gateway.

## [](#multi-tenant-deployment-modes)Multi-Tenant Deployment Modes

Furthermore, Envoy Gateway has added support for other [deployment modes](https://gateway.envoyproxy.io/v0.4/user/deployment-mode/) in addition to the default Kubernetes single-tenant mode, such as multi-tenancy, as shown in Figure 1 below.

![Post Image](/.netlify/images?url=_astro%2Fimage-1024x799.DafqwQYw.png&w=1024&h=799&q=100)

Figure 1: Figure 1: Envoy Gateway multi-tenancy deployment mode.

![Post Image](/.netlify/images?url=_astro%2Fimage-1024x799.DafqwQYw.png&w=1024&h=799&q=100) ×

document.addEventListener("click", (e) => { const trigger = e.target.closest("\[data-lightbox-trigger\]"); const close = e.target.closest("\[data-lightbox-close\]"); if (trigger) { e.preventDefault(); const figure = trigger.closest("figure"); const lightbox = figure?.querySelector("\[data-lightbox\]"); if (lightbox) { lightbox.classList.remove("lightbox--closing"); lightbox.classList.add("active"); document.body.style.overflow = "hidden"; } } if (close) { e.preventDefault(); const lightbox = e.target.closest("\[data-lightbox\]"); if (lightbox) { lightbox.classList.add("lightbox--closing"); lightbox.classList.remove("active"); document.body.style.overflow = ""; setTimeout(() => { lightbox.classList.remove("lightbox--closing"); }, 300); } } }); // Close lightbox on ESC key document.addEventListener("keydown", (e) => { if (e.key === "Escape") { const activeLightbox = document.querySelector(".lightbox.active"); if (activeLightbox) { activeLightbox.classList.add("lightbox--closing"); activeLightbox.classList.remove("active"); document.body.style.overflow = ""; setTimeout(() => { activeLightbox.classList.remove("lightbox--closing"); }, 300); } } });

Deploy an Envoy Gateway Controller to each tenantâ€™s namespace, which watches HTTPRoute and Service resources in Kubernetes, and creates and manages EnvoyProxy deployments in their respective namespaces.

## [](#customizing-envoy-xds-bootstrap)Customizing Envoy xDS Bootstrap

Another significant customization in this release is the ability to customize the Envoy xDS Bootstrap. With this feature, users can provide a bootstrap configuration to configure some static resources when starting up Envoy. A good case is configuring access logging, tracing and metrics to be sent to SkyWalking, which can work as an APM. Additionally, the release adds a lot of CLI tooling to help validate user configuration. Users can use the CLI as a dry run to change a specific field in Bootstrap, and it will fail if the config is not syntactically correct.

## [](#extending-the-control-plane)Extending the Control Plane

Envoy Gateway now provides the ability to allow vendors and extension developers to add gRPC hooks at different stages of the Envoy Gateway pipeline to further extend its functionality, allowing users to do things like enhance the xDS configuration being sent to Envoy, which was not possible before.

## [](#summary)Summary

In conclusion, Envoy Gateway 0.4.0 extends the API for customization and enables more use cases for end-users. The new customizations include the ability to customize Envoy deployment, Envoy xDS Bootstrap, and the control plane. With the release of this version, Envoy Gateway is becoming more user-friendly and is positioning itself as a great alternative to ingress-nginx.