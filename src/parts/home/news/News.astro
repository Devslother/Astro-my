---
import CardFrame from '../../../components/CardFrame/CardFrame.astro';
import Card from "./Card.astro";

const postsImport = import.meta.glob("/src/pages/posts/*.md", { eager: true });

const posts = Object.values(postsImport).map((post: any) => ({
  ...post.frontmatter,  
  Content: post.default // Основное содержимое Markdown
}));
---
<CardFrame withMargin>
  {posts.map((post) => (
      <Card 
        image={post.image}
        newsname={post.newsname}
        title={post.title}
        buttonLink={post.buttonLink}
      >
        <post.Content />
      </Card>
    ))}
</CardFrame>
    
  